// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id      Int      @id @default(autoincrement())
  name    String
  email   String   @unique
  phone   String   @unique
  role    Int      @default(1)
  password String
  avatar  String?
  createdAt DateTime?
  updatedAt DateTime?
  deleted   DateTime?

  groupPitches GroupPitch[]
  @@map("users")
}
model Service {
  id      Int      @id @default(autoincrement())
  name    String

  groupPitches GroupPitch[] @relation("grouppitch_service")
  groupPitches1 grouppitch_service[]
  @@map("services")
}
model GroupPitch {
  id      Int      @id @default(autoincrement())
  name    String
  id_district Int?
  id_ward Int?
  address_detail String?
  map String?
  description String?
  ownerId   Int?

  owner     User?    @relation(fields: [ownerId], references: [id])
  services     Service[]  @relation("grouppitch_service")
  servicesInGroupPitch grouppitch_service[]
  @@map("grouppitch")
}

model grouppitch_service {
  id      Int      @id @default(autoincrement())
  groupPitchId  Int
  serviceId     Int
  price Float?

  groupPitch    GroupPitch? @relation(fields: [groupPitchId], references: [id])
  service       Service?    @relation(fields: [serviceId], references: [id])
}